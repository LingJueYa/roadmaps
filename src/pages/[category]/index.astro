---
import { getCategories, getCategory } from "../../utils/data";
import SubcategoryList from "../../components/subcategoryList/SubcategoryList.astro";

export async function getStaticPaths() {
  const categories = await getCategories();
  return categories.map((category) => ({
    params: { category: category.name },
  }));
}

const { category } = Astro.params;
const categoryData = await getCategory(category);
---

<SubcategoryList
  category={category}
  subcategories={categoryData.subcategories}
/>
